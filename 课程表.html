<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>é‚¢ä»˜å¼ºçš„è¯¾ç¨‹è¡¨ ğŸ¦‹</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Noto+Sans+SC:wght@400;500;600;700&family=Comic+Neue:wght@400;700&display=swap');

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --pink-light: #FFE5F1;
            --pink-medium: #FFB6D9;
            --pink-dark: #FF69B4;
            --purple-light: #E5D4FF;
            --purple-medium: #C4A7E7;
            --lavender: #E6E6FA;
            --mint: #B2F5EA;
            --peach: #FFDAB9;
            --yellow-light: #FFF9C4;
            --text-dark: #5A3E5E;
            --text-light: #8B7A8E;
            --white: #FFFFFF;
            --shadow: 0 8px 32px rgba(255, 105, 180, 0.2);
            --shadow-hover: 0 12px 48px rgba(255, 105, 180, 0.3);
        }

        body {
            font-family: 'Noto Sans SC', 'Comic Neue', sans-serif;
            background: linear-gradient(135deg, #FFE5F1 0%, #E5D4FF 50%, #B2F5EA 100%);
            color: var(--text-dark);
            line-height: 1.6;
            min-height: 100vh;
            position: relative;
            overflow-x: hidden;
        }

        /* å¯çˆ±è£…é¥°å…ƒç´  */
        .decoration {
            position: fixed;
            pointer-events: none;
            z-index: 0;
        }

        .butterfly {
            font-size: 2rem;
            animation: float 6s ease-in-out infinite;
        }

        .butterfly:nth-child(1) {
            top: 10%;
            left: 5%;
            animation-delay: 0s;
        }

        .butterfly:nth-child(2) {
            top: 20%;
            right: 8%;
            animation-delay: 1s;
        }

        .butterfly:nth-child(3) {
            bottom: 15%;
            left: 10%;
            animation-delay: 2s;
        }

        .butterfly:nth-child(4) {
            bottom: 25%;
            right: 5%;
            animation-delay: 3s;
        }

        .flower {
            font-size: 1.5rem;
            animation: spin 20s linear infinite;
        }

        .flower:nth-child(5) {
            top: 30%;
            left: 3%;
        }

        .flower:nth-child(6) {
            top: 60%;
            right: 4%;
        }

        .flower:nth-child(7) {
            bottom: 10%;
            left: 15%;
        }

        .star {
            font-size: 1.2rem;
            animation: twinkle 2s ease-in-out infinite;
        }

        .star:nth-child(8) {
            top: 15%;
            left: 20%;
            animation-delay: 0.5s;
        }

        .star:nth-child(9) {
            top: 50%;
            right: 15%;
            animation-delay: 1s;
        }

        .star:nth-child(10) {
            bottom: 20%;
            right: 20%;
            animation-delay: 1.5s;
        }

        @keyframes float {

            0%,
            100% {
                transform: translateY(0) rotate(0deg);
            }

            50% {
                transform: translateY(-20px) rotate(10deg);
            }
        }

        @keyframes spin {
            from {
                transform: rotate(0deg);
            }

            to {
                transform: rotate(360deg);
            }
        }

        @keyframes twinkle {

            0%,
            100% {
                opacity: 1;
                transform: scale(1);
            }

            50% {
                opacity: 0.5;
                transform: scale(1.2);
            }
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 2rem;
            position: relative;
            z-index: 1;
        }

        .header {
            text-align: center;
            margin-bottom: 1rem;
            animation: fadeInDown 0.8s ease;
            background: linear-gradient(135deg, rgba(255, 255, 255, 0.9) 0%, rgba(255, 229, 241, 0.9) 100%);
            padding: 1rem;
            border-radius: 30px;
            box-shadow: var(--shadow);
            border: 3px solid var(--pink-medium);
        }

        .header h1 {
            font-size: 2.5rem;
            font-weight: 700;
            background: linear-gradient(135deg, #FF69B4 0%, #C4A7E7 50%, #FF69B4 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin-bottom: 0.5rem;
            font-family: 'Comic Neue', 'Noto Sans SC', sans-serif;
        }

        .owner-name {
            font-size: 1.3rem;
            color: var(--pink-dark);
            font-weight: 600;
            margin: 0.5rem 0;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 0.5rem;
        }

        .subtitle {
            color: var(--text-light);
            font-size: 1rem;
        }

        .main-content {
            display: grid;
            grid-template-columns: 420px 1fr;
            gap: 2rem;
            animation: fadeInUp 0.8s ease;
        }

        /* é…ç½®é¢æ¿ */
        .config-panel {
            background: linear-gradient(135deg, rgba(255, 255, 255, 0.95) 0%, rgba(255, 229, 241, 0.95) 100%);
            border: 3px solid var(--pink-medium);
            border-radius: 30px;
            padding: 2rem;
            box-shadow: var(--shadow);
            transition: all 0.3s ease;
        }

        .config-panel:hover {
            box-shadow: var(--shadow-hover);
            transform: translateY(-2px);
        }

        .config-panel h2 {
            font-size: 1.5rem;
            margin-bottom: 1.5rem;
            color: var(--pink-dark);
            font-family: 'Comic Neue', 'Noto Sans SC', sans-serif;
            text-align: center;
        }

        .day-selector {
            display: grid;
            grid-template-columns: repeat(7, 1fr);
            gap: 0.5rem;
            margin-bottom: 2rem;
        }

        .day-btn {
            padding: 0.8rem 0.3rem;
            border: 2px solid var(--pink-medium);
            background: white;
            color: var(--text-dark);
            border-radius: 15px;
            cursor: pointer;
            font-size: 0.85rem;
            font-weight: 600;
            transition: all 0.3s ease;
            position: relative;
        }

        .day-btn:hover {
            background: var(--pink-light);
            border-color: var(--pink-dark);
            transform: translateY(-3px) scale(1.05);
            box-shadow: 0 5px 15px rgba(255, 105, 180, 0.3);
        }

        .day-btn.active {
            background: linear-gradient(135deg, var(--pink-dark) 0%, var(--purple-medium) 100%);
            border-color: var(--pink-dark);
            color: white;
            box-shadow: 0 5px 20px rgba(255, 105, 180, 0.4);
            transform: scale(1.1);
        }

        .day-btn.active::after {
            content: 'ğŸ’–';
            position: absolute;
            top: -10px;
            right: -5px;
            font-size: 1rem;
        }

        .form-section {
            margin-bottom: 2rem;
            background: rgba(255, 255, 255, 0.6);
            padding: 1.5rem;
            border-radius: 20px;
            border: 2px dashed var(--pink-medium);
        }

        .form-section h3 {
            font-size: 1.2rem;
            margin-bottom: 1rem;
            color: var(--pink-dark);
            font-family: 'Comic Neue', 'Noto Sans SC', sans-serif;
            text-align: center;
        }

        .course-input {
            margin-bottom: 1rem;
        }

        .course-input label {
            display: block;
            margin-bottom: 0.5rem;
            color: var(--text-dark);
            font-size: 0.9rem;
            font-weight: 600;
        }

        .course-input input {
            width: 100%;
            padding: 0.9rem 1rem;
            background: white;
            border: 2px solid var(--pink-medium);
            border-radius: 15px;
            color: var(--text-dark);
            font-size: 0.95rem;
            transition: all 0.3s ease;
            font-family: 'Noto Sans SC', sans-serif;
        }

        .course-input input:focus {
            outline: none;
            border-color: var(--pink-dark);
            align-items: center;
            justify-content: center;
            font-size: 0.8rem;
        }

        .toggle-label input:checked+.toggle-slider {
            background: linear-gradient(135deg, var(--pink-dark) 0%, var(--purple-medium) 100%);
        }

        .toggle-label input:checked+.toggle-slider::before {
            transform: translateX(27px);
        }

        .toggle-text {
            font-weight: 600;
            color: var(--text-dark);
        }

        #afternoonCourses.disabled {
            opacity: 0.4;
            pointer-events: none;
        }

        /* æ¿€åŠ±è¯­è¾“å…¥ */
        .motivation-section {
            margin-bottom: 2rem;
            background: rgba(255, 255, 255, 0.6);
            padding: 1.5rem;
            border-radius: 20px;
            border: 2px dashed var(--mint);
        }

        .motivation-section h3 {
            font-size: 1.2rem;
            margin-bottom: 1rem;
            color: var(--pink-dark);
            font-family: 'Comic Neue', 'Noto Sans SC', sans-serif;
            text-align: center;
        }

        .motivation-input {
            margin-bottom: 0;
        }

        .motivation-input label {
            display: block;
            margin-bottom: 0.5rem;
            color: var(--text-dark);
            font-size: 0.9rem;
            font-weight: 600;
        }

        .motivation-input textarea {
            width: 100%;
            padding: 0.9rem 1rem;
            background: white;
            border: 2px solid var(--mint);
            border-radius: 15px;
            color: var(--text-dark);
            font-size: 0.95rem;
            transition: all 0.3s ease;
            font-family: 'Noto Sans SC', sans-serif;
            resize: vertical;
            min-height: 60px;
        }

        .motivation-input textarea:focus {
            outline: none;
            border-color: #4facfe;
            background: rgba(178, 245, 234, 0.2);
            box-shadow: 0 0 0 4px rgba(79, 172, 254, 0.2);
            transform: scale(1.02);
        }

        .motivation-input textarea::placeholder {
            color: var(--text-light);
        }

        .motivation-controls {
            display: flex;
            gap: 0.5rem;
            align-items: flex-start;
        }

        .motivation-controls textarea {
            flex: 1;
        }

        .dice-btn {
            padding: 0.9rem 1rem;
            background: linear-gradient(135deg, #FFD700 0%, #FFA500 100%);
            border: 2px solid #FFB6D9;
            border-radius: 15px;
            cursor: pointer;
            font-size: 1.5rem;
            transition: all 0.3s ease;
            box-shadow: 0 3px 10px rgba(255, 215, 0, 0.3);
            min-width: 50px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .dice-btn:hover {
            transform: translateY(-3px) scale(1.1);
            box-shadow: 0 5px 20px rgba(255, 215, 0, 0.5);
        }

        .dice-btn:active {
            animation: diceRoll 0.5s ease;
        }

        @keyframes diceRoll {
            0% {
                transform: rotate(0deg);
            }

            25% {
                transform: rotate(90deg) scale(1.1);
            }

            50% {
                transform: rotate(180deg) scale(1.2);
            }

            75% {
                transform: rotate(270deg) scale(1.1);
            }

            100% {
                transform: rotate(360deg) scale(1);
            }
        }

        /* æŒ‰é’® */
        .action-buttons {
            display: flex;
            gap: 1rem;
            margin-top: 2rem;
        }

        .btn {
            flex: 1;
            padding: 1rem 1.5rem;
            border: none;
            border-radius: 20px;
            font-size: 1rem;
            font-weight: 700;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 0.5rem;
            font-family: 'Noto Sans SC', sans-serif;
        }

        .btn-save {
            background: linear-gradient(135deg, #FF69B4 0%, #FF1493 100%);
            color: white;
            box-shadow: 0 5px 20px rgba(255, 105, 180, 0.4);
        }

        .btn-save:hover {
            transform: translateY(-3px) scale(1.05);
            box-shadow: 0 8px 30px rgba(255, 105, 180, 0.6);
        }

        .btn-clear {
            background: linear-gradient(135deg, #C4A7E7 0%, #9370DB 100%);
            color: white;
            box-shadow: 0 5px 20px rgba(196, 167, 231, 0.4);
        }

        .btn-clear:hover {
            transform: translateY(-3px) scale(1.05);
            box-shadow: 0 8px 30px rgba(196, 167, 231, 0.6);
        }

        .btn-print {
            background: linear-gradient(135deg, #FFB6D9 0%, #FF69B4 100%);
            color: white;
            box-shadow: 0 5px 20px rgba(255, 182, 217, 0.4);
            padding: 1rem 2rem;
            border: none;
            border-radius: 20px;
            font-size: 1rem;
            font-weight: 700;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .btn-print:hover {
            transform: translateY(-3px) scale(1.05);
            box-shadow: 0 8px 30px rgba(255, 182, 217, 0.6);
        }

        /* é¢„è§ˆé¢æ¿ */
        .preview-panel {
            background: linear-gradient(135deg, rgba(255, 255, 255, 0.95) 0%, rgba(229, 212, 255, 0.95) 100%);
            border: 3px solid var(--purple-medium);
            border-radius: 30px;
            padding: 2rem;
            box-shadow: var(--shadow);
        }

        .preview-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 2rem;
        }

        .preview-header h2 {
            font-size: 1.5rem;
            color: var(--purple-medium);
            font-family: 'Comic Neue', 'Noto Sans SC', sans-serif;
        }

        /* è¯¾ç¨‹è¡¨æ ·å¼ */
        .schedule-table {
            width: 100%;
            border-collapse: separate;
            border-spacing: 0;
            background: white;
            border-radius: 20px;
            overflow: hidden;
            box-shadow: 0 5px 20px rgba(0, 0, 0, 0.1);
        }

        .schedule-table th,
        .schedule-table td {
            padding: 1rem;
            text-align: center;
            border: 2px solid var(--pink-light);
        }

        .schedule-table th {
            background: linear-gradient(135deg, var(--pink-medium) 0%, var(--purple-light) 100%);
            font-weight: 700;
            color: var(--text-dark);
            font-size: 1rem;
        }

        .schedule-table td {
            background: white;
            color: var(--text-dark);
            transition: all 0.3s ease;
            font-size: 0.95rem;
            font-weight: 500;
        }

        .schedule-table td:hover {
            background: var(--pink-light);
            transform: scale(1.05);
            box-shadow: 0 3px 10px rgba(255, 105, 180, 0.2);
        }

        .schedule-table td.rest-cell {
            background: linear-gradient(135deg, #FFE5F1 0%, #FFB6D9 100%);
            color: var(--pink-dark);
            font-weight: 700;
        }

        .schedule-table td.course-cell {
            background: linear-gradient(135deg, #E5D4FF 0%, #C4A7E7 100%);
            color: var(--text-dark);
            font-weight: 600;
        }

        .schedule-table td.empty-cell {
            color: var(--text-light);
            font-style: italic;
        }

        /* æ‰“å°æ ·å¼ */
        .print-only {
            display: none;
        }

        @media print {
            body {
                background: white;
                color: black;
            }

            .container {
                display: none;
            }

            .decoration {
                display: none;
            }

            .print-only {
                display: block;
                padding: 15mm;
            }

            .print-header {
                text-align: center;
                margin-bottom: 20px;
                border-bottom: 3px solid #FF69B4;
                padding-bottom: 15px;
                position: relative;
            }

            .print-header h1 {
                font-size: 26pt;
                color: #FF69B4;
                margin-bottom: 8px;
                font-family: 'Comic Neue', 'Noto Sans SC', sans-serif;
            }

            .print-owner {
                font-size: 14pt;
                color: #C4A7E7;
                font-weight: bold;
                margin: 8px 0;
            }

            .print-decorations {
                position: absolute;
                font-size: 20pt;
            }

            .print-decorations.left {
                left: 0;
                top: 0;
            }

            .print-decorations.right {
                right: 0;
                top: 0;
            }

            .schedule-table {
                width: 100%;
                border-collapse: collapse;
                margin-top: 10px;
                page-break-inside: avoid;
            }

            .schedule-table th,
            .schedule-table td {
                border: 2px solid #FFB6D9;
                padding: 10px 5px;
                text-align: center;
            }

            .schedule-table th {
                background: #FFE5F1 !important;
                font-weight: bold;
                font-size: 11pt;
                color: #5A3E5E !important;
            }

            .schedule-table td {
                font-size: 10pt;
                min-height: 35px;
                background: white !important;
                color: #5A3E5E !important;
            }

            .schedule-table td.rest-cell {
                background: #FFE5F1 !important;
                color: #FF69B4 !important;
                font-weight: bold;
            }

            .schedule-table td.course-cell {
                background: #E5D4FF !important;
                color: #5A3E5E !important;
                font-weight: 600;
            }

            .print-footer {
                margin-top: 15px;
                text-align: center;
                font-size: 11pt;
                color: #FF69B4;
                border-top: 2px solid #FFB6D9;
                padding-top: 10px;
                font-weight: bold;
            }

            @page {
                size: A4;
                margin: 12mm;
            }
        }

        /* è¯¾ç¨‹é€‰æ‹©å¼¹çª— */
        .course-modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.5);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 9999;
            opacity: 0;
            visibility: hidden;
            transition: all 0.3s ease;
        }

        .course-modal-overlay.active {
            opacity: 1;
            visibility: visible;
        }

        .course-modal {
            background: linear-gradient(135deg, rgba(255, 255, 255, 0.98) 0%, rgba(255, 229, 241, 0.98) 100%);
            border: 3px solid var(--pink-medium);
            border-radius: 30px;
            padding: 2rem;
            max-width: 500px;
            width: 90%;
            max-height: 80vh;
            overflow-y: auto;
            box-shadow: 0 20px 60px rgba(255, 105, 180, 0.4);
            transform: scale(0.8) translateY(-20px);
            transition: all 0.3s ease;
        }

        .course-modal-overlay.active .course-modal {
            transform: scale(1) translateY(0);
        }

        .course-modal-header {
            text-align: center;
            margin-bottom: 1.5rem;
            padding-bottom: 1rem;
            border-bottom: 2px dashed var(--pink-medium);
        }

        .course-modal-header h3 {
            font-size: 1.4rem;
            color: var(--pink-dark);
            font-family: 'Comic Neue', 'Noto Sans SC', sans-serif;
            margin-bottom: 0.5rem;
        }

        .course-modal-header p {
            font-size: 0.9rem;
            color: var(--text-light);
        }

        .course-options {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 0.8rem;
            margin-bottom: 1.5rem;
        }

        .course-option {
            padding: 0.8rem 0.5rem;
            background: white;
            border: 2px solid var(--pink-light);
            border-radius: 15px;
            cursor: pointer;
            font-size: 0.9rem;
            font-weight: 600;
            color: var(--text-dark);
            transition: all 0.3s ease;
            text-align: center;
        }

        .course-option:hover {
            background: var(--pink-light);
            border-color: var(--pink-dark);
            transform: translateY(-3px) scale(1.05);
            box-shadow: 0 5px 15px rgba(255, 105, 180, 0.3);
        }

        .course-option.rest-option {
            background: linear-gradient(135deg, #FFE5F1 0%, #FFB6D9 100%);
            border-color: var(--pink-medium);
        }

        .course-option.rest-option:hover {
            background: linear-gradient(135deg, #FFB6D9 0%, #FF69B4 100%);
            color: white;
        }

        .course-modal-custom {
            margin-bottom: 1.5rem;
        }

        .course-modal-custom label {
            display: block;
            margin-bottom: 0.5rem;
            color: var(--text-dark);
            font-size: 0.9rem;
            font-weight: 600;
        }

        .course-modal-custom input {
            width: 100%;
            padding: 0.9rem 1rem;
            background: white;
            border: 2px solid var(--pink-medium);
            border-radius: 15px;
            color: var(--text-dark);
            font-size: 0.95rem;
            transition: all 0.3s ease;
            font-family: 'Noto Sans SC', sans-serif;
        }

        .course-modal-custom input:focus {
            outline: none;
            border-color: var(--pink-dark);
            box-shadow: 0 0 0 4px rgba(255, 105, 180, 0.2);
        }

        .course-modal-buttons {
            display: flex;
            gap: 1rem;
        }

        .course-modal-buttons .btn {
            flex: 1;
        }

        .btn-confirm {
            background: linear-gradient(135deg, #FF69B4 0%, #FF1493 100%);
            color: white;
            box-shadow: 0 5px 20px rgba(255, 105, 180, 0.4);
        }

        .btn-confirm:hover {
            transform: translateY(-3px) scale(1.05);
            box-shadow: 0 8px 30px rgba(255, 105, 180, 0.6);
        }

        .btn-cancel {
            background: linear-gradient(135deg, #C4A7E7 0%, #9370DB 100%);
            color: white;
            box-shadow: 0 5px 20px rgba(196, 167, 231, 0.4);
        }

        .btn-cancel:hover {
            transform: translateY(-3px) scale(1.05);
            box-shadow: 0 8px 30px rgba(196, 167, 231, 0.6);
        }

        .btn-clear-cell {
            background: linear-gradient(135deg, #FFB6D9 0%, #FF69B4 100%);
            color: white;
            box-shadow: 0 5px 15px rgba(255, 182, 217, 0.4);
        }

        .btn-clear-cell:hover {
            transform: translateY(-3px) scale(1.05);
            box-shadow: 0 8px 25px rgba(255, 182, 217, 0.6);
        }

        /* å¯ç‚¹å‡»çš„å•å…ƒæ ¼æ ·å¼ */
        .schedule-table td.clickable-cell {
            cursor: pointer;
            position: relative;
        }

        .schedule-table td.clickable-cell::after {
            content: 'âœï¸';
            position: absolute;
            top: 2px;
            right: 2px;
            font-size: 0.7rem;
            opacity: 0;
            transition: opacity 0.3s ease;
        }

        .schedule-table td.clickable-cell:hover::after {
            opacity: 0.6;
        }

        .schedule-table td.clickable-cell:hover {
            background: linear-gradient(135deg, #FFE5F1 0%, #E5D4FF 100%) !important;
            transform: scale(1.08);
            box-shadow: 0 5px 15px rgba(255, 105, 180, 0.3);
            z-index: 1;
        }

        /* åŠ¨ç”» */
        @keyframes fadeInDown {
            from {
                opacity: 0;
                transform: translateY(-30px);
            }

            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }

            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        /* å“åº”å¼è®¾è®¡ */
        @media (max-width: 1200px) {
            .main-content {
                grid-template-columns: 1fr;
            }

            .config-panel {
                max-width: 600px;
                margin: 0 auto;
            }
        }

        @media (max-width: 768px) {
            .container {
                padding: 1rem;
            }

            .header h1 {
                font-size: 1rem;
            }

            .day-selector {
                grid-template-columns: repeat(4, 1fr);
            }

            .action-buttons {
                flex-direction: column;
            }

            .preview-header {
                flex-direction: column;
                gap: 1rem;
                align-items: stretch;
            }

            .butterfly,
            .flower,
            .star {
                font-size: 1rem;
            }
        }

        /* é€šçŸ¥åŠ¨ç”» */
        @keyframes slideInRight {
            from {
                transform: translateX(400px);
                opacity: 0;
            }

            to {
                transform: translateX(0);
                opacity: 1;
            }
        }

        @keyframes slideOutRight {
            from {
                transform: translateX(0);
                opacity: 1;
            }

            to {
                transform: translateX(400px);
                opacity: 0;
            }
        }
    </style>
</head>

<body>
    <!-- å¯çˆ±è£…é¥°å…ƒç´  -->
    <div class="decoration butterfly">ğŸ¦‹</div>
    <div class="decoration butterfly">ğŸ¦‹</div>
    <div class="decoration butterfly">ğŸ¦‹</div>
    <div class="decoration butterfly">ğŸ¦‹</div>
    <div class="decoration flower">ğŸŒ¸</div>
    <div class="decoration flower">ğŸŒº</div>
    <div class="decoration flower">ğŸŒ¼</div>
    <div class="decoration star">â­</div>
    <div class="decoration star">âœ¨</div>
    <div class="decoration star">ğŸ’«</div>

    <div class="container">
        <header class="header">
            <h1>ğŸŒˆ æˆ‘çš„è¯¾ç¨‹è¡¨ ğŸŒˆ</h1>
            <div class="owner-name">
                <span>ğŸ‘§</span>
                <span>é‚¢ä»˜å¼º</span>
                <span>ğŸ€</span>
            </div>
            <p class="subtitle">è®©å­¦ä¹ å˜å¾—æ›´æœ‰è¶£ âœ¨</p>
        </header>

        <div class="main-content">
            <!-- é…ç½®é¢æ¿ -->
            <div class="config-panel">
                <h2>ğŸ“ è¯¾ç¨‹é…ç½® ğŸ¨</h2>
                <div class="day-selector">
                    <button class="day-btn active" data-day="monday">å‘¨ä¸€</button>
                    <button class="day-btn" data-day="tuesday">å‘¨äºŒ</button>
                    <button class="day-btn" data-day="wednesday">å‘¨ä¸‰</button>
                    <button class="day-btn" data-day="thursday">å‘¨å››</button>
                    <button class="day-btn" data-day="friday">å‘¨äº”</button>
                    <button class="day-btn" data-day="saturday">å‘¨å…­</button>
                    <button class="day-btn" data-day="sunday">å‘¨æ—¥</button>
                </div>

                <div class="config-form">
                    <div class="form-section">
                        <h3>ğŸŒ… ä¸Šåˆè¯¾ç¨‹</h3>
                        <div class="course-input">
                            <label>ç¬¬ä¸€èŠ‚ ğŸ“š</label>
                            <input type="text" id="morning1" list="courseList" placeholder="ä¾‹å¦‚ï¼šè¯­æ–‡">
                        </div>
                        <div class="course-input">
                            <label>ç¬¬äºŒèŠ‚ âœï¸</label>
                            <input type="text" id="morning2" list="courseList" placeholder="ä¾‹å¦‚ï¼šæ•°å­¦">
                        </div>
                        <div class="course-input">
                            <label>ç¬¬ä¸‰èŠ‚ ğŸ“–</label>
                            <input type="text" id="morning3" list="courseList" placeholder="ä¾‹å¦‚ï¼šè‹±è¯­">
                        </div>
                        <div class="course-input">
                            <label>ç¬¬å››èŠ‚ ğŸ”¬</label>
                            <input type="text" id="morning4" list="courseList" placeholder="ä¾‹å¦‚ï¼šç§‘å­¦">
                        </div>
                    </div>

                    <div class="form-section">
                        <h3>ğŸŒ† ä¸‹åˆè¯¾ç¨‹</h3>
                        <div class="rest-toggle">
                            <label class="toggle-label">
                                <input type="hidden" id="afternoonRest">
                                <span class="toggle-slider"></span>
                                <span class="toggle-text"></span>
                            </label>
                        </div>
                        <div id="afternoonCourses">
                            <div class="course-input">
                                <label>ç¬¬äº”èŠ‚ ğŸ¨</label>
                                <input type="text" id="afternoon1" list="courseList" placeholder="ä¾‹å¦‚ï¼šç¾æœ¯">
                            </div>
                            <div class="course-input">
                                <label>ç¬¬å…­èŠ‚ ğŸµ</label>
                                <input type="text" id="afternoon2" list="courseList" placeholder="ä¾‹å¦‚ï¼šéŸ³ä¹">
                            </div>
                            <div class="course-input">
                                <label>ç¬¬ä¸ƒèŠ‚ âš½</label>
                                <input type="text" id="afternoon3" list="courseList" placeholder="ä¾‹å¦‚ï¼šä½“è‚²">
                            </div>
                            <div class="course-input">
                                <label>ç¬¬å…«èŠ‚ ğŸ’»</label>
                                <input type="text" id="afternoon4" list="courseList" placeholder="ä¾‹å¦‚ï¼šä¿¡æ¯æŠ€æœ¯">
                            </div>
                        </div>
                    </div>



                    <div class="action-buttons">
                        <button class="btn btn-save" id="saveBtn">ğŸ’¾ ä¿å­˜è¯¾ç¨‹</button>
                        <button class="btn btn-clear" id="clearBtn">ğŸ—‘ï¸ æ¸…ç©ºå½“å¤©</button>
                    </div>
                </div>
            </div>

            <!-- é¢„è§ˆé¢æ¿ -->
            <div class="preview-panel">
                <div class="preview-header">
                    <h2>ğŸ‘€ è¯¾ç¨‹è¡¨é¢„è§ˆ ğŸŒŸ</h2>
                    <button class="btn btn-print" id="printBtn">ğŸ–¨ï¸ æ‰“å°è¯¾ç¨‹è¡¨</button>
                </div>
                <div class="schedule-container" id="schedulePreview">
                    <!-- è¯¾ç¨‹è¡¨å°†é€šè¿‡JavaScriptåŠ¨æ€ç”Ÿæˆ -->
                </div>
                <div class="motivation-section">

                    <div class="motivation-input">
                        <div class="motivation-controls">
                            <textarea id="motivationText" placeholder="è¾“å…¥ä½ çš„æ¿€åŠ±è¯­...">å­¦ä¹ å¾ˆè‹¦,åšæŒå¾ˆé…·</textarea>
                            <button class="dice-btn" id="diceBtn" title="éšæœºæ¢ä¸€æ¡æ¿€åŠ±è¯­">ğŸ²</button>
                        </div>
                    </div>
                </div>
            </div>

        </div>
    </div>

    <!-- è¯¾ç¨‹é€‰é¡¹åˆ—è¡¨ -->
    <datalist id="courseList">
        <option value="è¯­æ–‡">
        <option value="æ•°å­¦">
        <option value="è‹±è¯­">
        <option value="é“å¾·ä¸æ³•æ²»">
        <option value="å†å²">
        <option value="åœ°ç†">
        <option value="ç‰©ç†">
        <option value="åŒ–å­¦">
        <option value="ç”Ÿç‰©">
        <option value="ä½“è‚²ä¸å¥åº·">
        <option value="éŸ³ä¹">
        <option value="ç¾æœ¯">
        <option value="ä¿¡æ¯æŠ€æœ¯">
        <option value="åŠ³åŠ¨/ç»¼åˆå®è·µæ´»åŠ¨">
        <option value="è®¡ç®—æœº">
        <option value="ğŸ˜´ ä¼‘æ¯"></option>
    </datalist>

    <!-- æ‰“å°ä¸“ç”¨åŒºåŸŸ -->
    <div class="print-only" id="printArea">
        <div class="print-header">
            <div class="print-decorations left">ğŸ¦‹ğŸŒ¸</div>
            <div class="print-decorations right">ğŸŒºğŸ¦‹</div>
            <h1>ğŸŒˆ æˆ‘çš„è¯¾ç¨‹è¡¨ ğŸŒˆ</h1>
            <div class="print-owner">ğŸ‘§ é‚¢ä»˜å¼º ğŸ€</div>
        </div>
        <div id="printSchedule"></div>
        <div class="print-footer" id="printMotivation">
            âœ¨ å¥½å¥½å­¦ä¹ ï¼Œå¤©å¤©å‘ä¸Šï¼ğŸ’–
        </div>
    </div>

    <!-- è¯¾ç¨‹é€‰æ‹©å¼¹çª— -->
    <div class="course-modal-overlay" id="courseModalOverlay">
        <div class="course-modal">
            <div class="course-modal-header">
                <h3>ğŸ“š é€‰æ‹©è¯¾ç¨‹ âœ¨</h3>
                <p id="modalCellInfo">å‘¨ä¸€ ç¬¬1èŠ‚</p>
            </div>
            <div class="course-options" id="courseOptions">
                <!-- è¯¾ç¨‹é€‰é¡¹å°†é€šè¿‡JavaScriptåŠ¨æ€ç”Ÿæˆ -->
            </div>
            <div class="course-modal-custom">
                <label>âœï¸ æˆ–è€…è¾“å…¥è‡ªå®šä¹‰è¯¾ç¨‹ï¼š</label>
                <input type="text" id="customCourseInput" placeholder="è¾“å…¥è¯¾ç¨‹åç§°...">
            </div>
            <div class="course-modal-buttons">
                <button class="btn btn-confirm" id="confirmCourseBtn">ğŸ’¾ ç¡®å®š</button>
                <button class="btn btn-clear-cell" id="clearCellBtn">ğŸ—‘ï¸ æ¸…ç©º</button>
                <button class="btn btn-cancel" id="cancelCourseBtn">âŒ å–æ¶ˆ</button>
            </div>
        </div>
    </div>

    <script>
        // è¯¾ç¨‹æ•°æ®ç»“æ„
        const scheduleData = {
            monday: { morning: ['', '', '', ''], afternoon: ['', '', '', ''], isRest: false },
            tuesday: { morning: ['', '', '', ''], afternoon: ['', '', '', ''], isRest: false },
            wednesday: { morning: ['', '', '', ''], afternoon: ['', '', '', ''], isRest: false },
            thursday: { morning: ['', '', '', ''], afternoon: ['', '', '', ''], isRest: false },
            friday: { morning: ['', '', '', ''], afternoon: ['', '', '', ''], isRest: false },
            saturday: { morning: ['', '', '', ''], afternoon: ['', '', '', ''], isRest: false },
            sunday: { morning: ['', '', '', ''], afternoon: ['', '', '', ''], isRest: false }
        };

        // å½“å‰é€‰ä¸­çš„æ—¥æœŸ
        let currentDay = 'monday';

        // æ¿€åŠ±è¯­
        let motivationText = 'å­¦ä¹ å¾ˆè‹¦,åšæŒå¾ˆé…·';

        // 100æ¡é€‚åˆ6å¹´çº§å¥³å­©çš„æ¿€åŠ±è¯æœ¯
        const motivationQuotes = [
            'å­¦ä¹ å¾ˆè‹¦,åšæŒå¾ˆé…·',
            'æ¯ä¸€æ¬¡åŠªåŠ›ï¼Œéƒ½æ˜¯æˆé•¿çš„é˜¶æ¢¯',
            'ä»Šå¤©çš„åŠªåŠ›ï¼Œæ˜¯æ˜å¤©çš„éª„å‚²',
            'ç›¸ä¿¡è‡ªå·±ï¼Œä½ å¯ä»¥åšåˆ°',
            'æ¢¦æƒ³åœ¨å‰æ–¹ï¼ŒåŠªåŠ›åœ¨è·¯ä¸Š',
            'å°å°çš„è¿›æ­¥ï¼Œä¹Ÿæ˜¯å¤§å¤§çš„æˆåŠŸ',
            'åšæœ€å¥½çš„è‡ªå·±ï¼Œä¸è´Ÿé’æ˜¥æ—¶å…‰',
            'å‹‡æ•¢è¿½æ¢¦ï¼Œæ°¸ä¸æ”¾å¼ƒ',
            'æ¯å¤©è¿›æ­¥ä¸€ç‚¹ç‚¹ï¼Œå°±æ˜¯æœ€æ£’çš„è‡ªå·±',
            'ç”¨å¾®ç¬‘é¢å¯¹æŒ‘æˆ˜ï¼Œç”¨åŠªåŠ›åˆ›é€ å¥‡è¿¹',
            'ä½ æ¯”æƒ³è±¡ä¸­æ›´ä¼˜ç§€',
            'åšæŒä¸‹å»ï¼Œç¾å¥½æ­£åœ¨è·¯ä¸Š',
            'å­¦ä¹ æ˜¯ç»™è‡ªå·±æœ€å¥½çš„ç¤¼ç‰©',
            'ä»Šå¤©çš„æ±—æ°´ï¼Œæ˜¯æ˜å¤©çš„å½©è™¹',
            'ç›¸ä¿¡åŠªåŠ›çš„åŠ›é‡',
            'æ¯ä¸€ä¸ªå›°éš¾ï¼Œéƒ½æ˜¯æˆé•¿çš„æœºä¼š',
            'åšä¸€ä¸ªæ¸©æš–åˆåŠªåŠ›çš„å¥³å­©',
            'çŸ¥è¯†æ˜¯æœ€ç¾çš„è£…é¥°',
            'ç”¨å¿ƒå­¦ä¹ ï¼Œå¿«ä¹æˆé•¿',
            'ä½ çš„åŠªåŠ›ï¼Œæ—¶å…‰ä¼šè®°å¾—',
            'ä¿æŒçƒ­çˆ±ï¼Œå¥”èµ´å±±æµ·',
            'åšè‡ªå·±çš„å°å¤ªé˜³',
            'åŠªåŠ›åˆ°æ— èƒ½ä¸ºåŠ›ï¼Œæ‹¼æåˆ°æ„ŸåŠ¨è‡ªå·±',
            'æ˜Ÿå…‰ä¸é—®èµ¶è·¯äºº',
            'æ¸©æŸ”ä¸”åšå®šåœ°å‰è¡Œ',
            'æ¯ä¸€å¤©éƒ½æ˜¯æ–°çš„å¼€å§‹',
            'ç”¨çŸ¥è¯†ç‚¹äº®æœªæ¥',
            'åšä¸€ä¸ªé—ªé—ªå‘å…‰çš„å¥³å­©',
            'è¶ŠåŠªåŠ›ï¼Œè¶Šå¹¸è¿',
            'ä¹¦å±±æœ‰è·¯å‹¤ä¸ºå¾„',
            'å­¦æµ·æ— æ¶¯è‹¦ä½œèˆŸ',
            'å¤©é“é…¬å‹¤ï¼Œåšç§¯è–„å‘',
            'å®å‰‘é”‹ä»ç£¨ç ºå‡º',
            'æ¢…èŠ±é¦™è‡ªè‹¦å¯’æ¥',
            'å°‘å¹´æ˜“å­¦è€éš¾æˆ',
            'ä¸€å¯¸å…‰é˜´ä¸å¯è½»',
            'é»‘å‘ä¸çŸ¥å‹¤å­¦æ—©',
            'ç™½é¦–æ–¹æ‚”è¯»ä¹¦è¿Ÿ',
            'è¯»ä¹¦ç ´ä¸‡å·ï¼Œä¸‹ç¬”å¦‚æœ‰ç¥',
            'ä¹¦ç±æ˜¯äººç±»è¿›æ­¥çš„é˜¶æ¢¯',
            'çŸ¥è¯†æ”¹å˜å‘½è¿',
            'å­¦ä¹ æˆå°±æœªæ¥',
            'ä»Šæ—¥äº‹ï¼Œä»Šæ—¥æ¯•',
            'æ˜æ—¥å¤æ˜æ—¥ï¼Œæ˜æ—¥ä½•å…¶å¤š',
            'æˆ‘ç”Ÿå¾…æ˜æ—¥ï¼Œä¸‡äº‹æˆè¹‰è·',
            'å°‘å£®ä¸åŠªåŠ›ï¼Œè€å¤§å¾’ä¼¤æ‚²',
            'ä¸€åˆ†è€•è€˜ï¼Œä¸€åˆ†æ”¶è·',
            'ä¸ç»ä¸€ç•ªå¯’å½»éª¨ï¼Œæ€å¾—æ¢…èŠ±æ‰‘é¼»é¦™',
            'æœ‰å¿—è€…äº‹ç«Ÿæˆ',
            'ä¸–ä¸Šæ— éš¾äº‹ï¼Œåªæ€•æœ‰å¿ƒäºº',
            'åªè¦åŠŸå¤«æ·±ï¼Œé“æµç£¨æˆé’ˆ',
            'åƒé‡Œä¹‹è¡Œï¼Œå§‹äºè¶³ä¸‹',
            'ä¸ç§¯è·¬æ­¥ï¼Œæ— ä»¥è‡³åƒé‡Œ',
            'ä¸ç§¯å°æµï¼Œæ— ä»¥æˆæ±Ÿæµ·',
            'é”²è€Œä¸èˆï¼Œé‡‘çŸ³å¯é•‚',
            'ç»³é”¯æœ¨æ–­ï¼Œæ°´æ»´çŸ³ç©¿',
            'ä¸šç²¾äºå‹¤ï¼Œè’äºå¬‰',
            'è¡Œæˆäºæ€ï¼Œæ¯äºéš',
            'ä¹¦è¯»ç™¾éï¼Œå…¶ä¹‰è‡ªè§',
            'æ¸©æ•…è€ŒçŸ¥æ–°',
            'å­¦è€Œä¸æ€åˆ™ç½”',
            'æ€è€Œä¸å­¦åˆ™æ®†',
            'çŸ¥ä¹‹ä¸ºçŸ¥ä¹‹ï¼Œä¸çŸ¥ä¸ºä¸çŸ¥',
            'ä¸‰äººè¡Œï¼Œå¿…æœ‰æˆ‘å¸ˆç„‰',
            'æ•è€Œå¥½å­¦ï¼Œä¸è€»ä¸‹é—®',
            'å­¦æ— æ­¢å¢ƒ',
            'æ´»åˆ°è€ï¼Œå­¦åˆ°è€',
            'ç¬¨é¸Ÿå…ˆé£æ—©å…¥æ—',
            'å‹¤èƒ½è¡¥æ‹™æ˜¯è‰¯è®­',
            'ä¸€ä»½è¾›è‹¦ä¸€ä»½æ‰',
            'å¤©æ‰æ˜¯ç™¾åˆ†ä¹‹ä¸€çš„çµæ„ŸåŠ ç™¾åˆ†ä¹‹ä¹åä¹çš„æ±—æ°´',
            'æˆåŠŸçš„ç§˜è¯€åœ¨äºåšæŒ',
            'å¤±è´¥æ˜¯æˆåŠŸä¹‹æ¯',
            'ä»å“ªé‡Œè·Œå€’å°±ä»å“ªé‡Œçˆ¬èµ·æ¥',
            'å›°éš¾åƒå¼¹ç°§ï¼Œä½ å¼±å®ƒå°±å¼º',
            'è‡ªä¿¡æ˜¯æˆåŠŸçš„ç¬¬ä¸€ç§˜è¯€',
            'æ€åº¦å†³å®šä¸€åˆ‡',
            'ç»†èŠ‚å†³å®šæˆè´¥',
            'æœºä¼šæ€»æ˜¯ç•™ç»™æœ‰å‡†å¤‡çš„äºº',
            'ä»Šå¤©çš„ä½ ï¼Œæ¯”æ˜¨å¤©æ›´ä¼˜ç§€',
            'æ¯ä¸€æ¬¡å°è¯•ï¼Œéƒ½æ˜¯ä¸€æ¬¡æˆé•¿',
            'å‹‡æ•¢åšè‡ªå·±ï¼Œä¸–ç•Œä¼šä¸ºä½ è®©è·¯',
            'ç”¨åŠªåŠ›ä¹¦å†™ç²¾å½©äººç”Ÿ',
            'åšä¸€ä¸ªæœ‰æ¢¦æƒ³çš„è¿½æ¢¦äºº',
            'è®©ä¼˜ç§€æˆä¸ºä¸€ç§ä¹ æƒ¯',
            'ç”¨è¡ŒåŠ¨è¯æ˜è‡ªå·±',
            'ä¸æ€•æ…¢ï¼Œå°±æ€•ç«™',
            'ä¸€æ­¥ä¸€ä¸ªè„šå°ï¼Œè¸å®å‰è¡Œ',
            'å¿ƒæœ‰å¤šå¤§ï¼Œèˆå°å°±æœ‰å¤šå¤§',
            'ä½ çš„æ½œåŠ›æ— é™',
            'åšæœ€æ£’çš„è‡ªå·±',
            'ç”¨æ™ºæ…§ç‚¹äº®äººç”Ÿ',
            'å­¦ä¹ ä½¿æˆ‘å¿«ä¹',
            'çŸ¥è¯†å°±æ˜¯åŠ›é‡',
            'è¯»ä¹¦ä½¿äººæ˜æ™º',
            'è…¹æœ‰è¯—ä¹¦æ°”è‡ªå',
            'ä¹¦é¦™ä¼´æˆ‘æˆé•¿',
            'åœ¨ä¹¦ä¸­é‡è§æ›´å¥½çš„è‡ªå·±',
            'æ¯ä¸€æœ¬ä¹¦éƒ½æ˜¯ä¸€ä¸ªæ–°ä¸–ç•Œ',
            'é˜…è¯»è®©ç”Ÿæ´»æ›´ç¾å¥½'
        ];

        // æ˜ŸæœŸæ˜ å°„
        const dayMap = {
            monday: 'å‘¨ä¸€',
            tuesday: 'å‘¨äºŒ',
            wednesday: 'å‘¨ä¸‰',
            thursday: 'å‘¨å››',
            friday: 'å‘¨äº”',
            saturday: 'å‘¨å…­',
            sunday: 'å‘¨æ—¥'
        };

        // åˆå§‹åŒ–
        document.addEventListener('DOMContentLoaded', () => {
            loadFromLocalStorage();
            initEventListeners();
            initModalEvents();
            renderSchedule();
            loadDayData(currentDay);
        });

        // åˆå§‹åŒ–äº‹ä»¶ç›‘å¬
        function initEventListeners() {
            // æ—¥æœŸé€‰æ‹©æŒ‰é’®
            document.querySelectorAll('.day-btn').forEach(btn => {
                btn.addEventListener('click', (e) => {
                    document.querySelectorAll('.day-btn').forEach(b => b.classList.remove('active'));
                    e.target.classList.add('active');
                    currentDay = e.target.dataset.day;
                    loadDayData(currentDay);
                });
            });

            // ä¸‹åˆä¼‘æ¯åˆ‡æ¢
            document.getElementById('afternoonRest').addEventListener('change', (e) => {
                const afternoonCourses = document.getElementById('afternoonCourses');
                if (e.target.checked) {
                    afternoonCourses.classList.add('disabled');
                } else {
                    afternoonCourses.classList.remove('disabled');
                }
            });

            // ä¿å­˜æŒ‰é’®
            document.getElementById('saveBtn').addEventListener('click', saveDayData);

            // æ¸…ç©ºæŒ‰é’®
            document.getElementById('clearBtn').addEventListener('click', clearDayData);

            // æ‰“å°æŒ‰é’®
            document.getElementById('printBtn').addEventListener('click', printSchedule);

            // æ¿€åŠ±è¯­è¾“å…¥
            document.getElementById('motivationText').addEventListener('input', (e) => {
                motivationText = e.target.value.trim();
                saveToLocalStorage();
            });

            // éª°å­æŒ‰é’® - éšæœºæ¢æ¿€åŠ±è¯­
            document.getElementById('diceBtn').addEventListener('click', () => {
                // éšæœºé€‰æ‹©ä¸€æ¡æ¿€åŠ±è¯­
                const randomIndex = Math.floor(Math.random() * motivationQuotes.length);
                const randomQuote = motivationQuotes[randomIndex];

                // æ›´æ–°åˆ°è¾“å…¥æ¡†
                document.getElementById('motivationText').value = randomQuote;
                motivationText = randomQuote;

                // ä¿å­˜
                saveToLocalStorage();

                // æ˜¾ç¤ºé€šçŸ¥
                showNotification('ğŸ² å·²æ¢ä¸€æ¡æ–°çš„æ¿€åŠ±è¯­ï¼');
            });

            // å®æ—¶æ›´æ–°é¢„è§ˆ
            document.querySelectorAll('.course-input input').forEach(input => {
                input.addEventListener('input', () => {
                    saveDayData();
                });
            });

            document.getElementById('afternoonRest').addEventListener('change', () => {
                saveDayData();
            });
        }

        // åŠ è½½æŸä¸€å¤©çš„æ•°æ®åˆ°è¡¨å•
        function loadDayData(day) {
            const data = scheduleData[day];

            // åŠ è½½ä¸Šåˆè¯¾ç¨‹
            document.getElementById('morning1').value = data.morning[0] || '';
            document.getElementById('morning2').value = data.morning[1] || '';
            document.getElementById('morning3').value = data.morning[2] || '';
            document.getElementById('morning4').value = data.morning[3] || '';

            // åŠ è½½ä¸‹åˆè¯¾ç¨‹
            document.getElementById('afternoon1').value = data.afternoon[0] || '';
            document.getElementById('afternoon2').value = data.afternoon[1] || '';
            document.getElementById('afternoon3').value = data.afternoon[2] || '';
            document.getElementById('afternoon4').value = data.afternoon[3] || '';

            // åŠ è½½ä¼‘æ¯çŠ¶æ€
            document.getElementById('afternoonRest').checked = data.isRest;
            const afternoonCourses = document.getElementById('afternoonCourses');
            if (data.isRest) {
                afternoonCourses.classList.add('disabled');
            } else {
                afternoonCourses.classList.remove('disabled');
            }
        }

        // ä¿å­˜å½“å‰å¤©çš„æ•°æ®
        function saveDayData() {
            const data = scheduleData[currentDay];

            // ä¿å­˜ä¸Šåˆè¯¾ç¨‹
            data.morning[0] = document.getElementById('morning1').value.trim();
            data.morning[1] = document.getElementById('morning2').value.trim();
            data.morning[2] = document.getElementById('morning3').value.trim();
            data.morning[3] = document.getElementById('morning4').value.trim();

            // ä¿å­˜ä¸‹åˆè¯¾ç¨‹
            data.isRest = document.getElementById('afternoonRest').checked;
            if (!data.isRest) {
                data.afternoon[0] = document.getElementById('afternoon1').value.trim();
                data.afternoon[1] = document.getElementById('afternoon2').value.trim();
                data.afternoon[2] = document.getElementById('afternoon3').value.trim();
                data.afternoon[3] = document.getElementById('afternoon4').value.trim();
            }

            // ä¿å­˜åˆ°æœ¬åœ°å­˜å‚¨
            saveToLocalStorage();

            // æ›´æ–°é¢„è§ˆ
            renderSchedule();

            // æ˜¾ç¤ºä¿å­˜æç¤º
            showNotification('âœ… ä¿å­˜æˆåŠŸï¼');
        }

        // æ¸…ç©ºå½“å‰å¤©çš„æ•°æ®
        function clearDayData() {
            // if (confirm(`ç¡®å®šè¦æ¸…ç©º${dayMap[currentDay]}çš„æ‰€æœ‰è¯¾ç¨‹å—ï¼Ÿ`)) {
            scheduleData[currentDay] = {
                morning: ['', '', '', ''],
                afternoon: ['', '', '', ''],
                isRest: false
            };

            loadDayData(currentDay);
            saveToLocalStorage();
            renderSchedule();
            showNotification('ğŸ—‘ï¸ å·²æ¸…ç©ºï¼');
            // }
        }

        // æ¸²æŸ“è¯¾ç¨‹è¡¨
        function renderSchedule() {
            const container = document.getElementById('schedulePreview');

            let html = '<table class="schedule-table">';

            // è¡¨å¤´
            html += '<thead><tr>';
            html += '<th>æ—¶é—´</th>';
            for (let day in dayMap) {
                html += `<th>${dayMap[day]}</th>`;
            }
            html += '</tr></thead>';

            // è¡¨ä½“
            html += '<tbody>';

            // ä¸Šåˆè¯¾ç¨‹
            for (let i = 0; i < 4; i++) {
                html += '<tr>';
                html += `<td><strong>ç¬¬${i + 1}èŠ‚</strong></td>`;
                for (let day in scheduleData) {
                    const course = scheduleData[day].morning[i];
                    const cellClass = course ? 'course-cell clickable-cell' : 'empty-cell clickable-cell';
                    const displayText = course || '-';
                    html += `<td class="${cellClass}" data-day="${day}" data-period="morning" data-index="${i}">${displayText}</td>`;
                }
                html += '</tr>';
            }

            // ä¸‹åˆè¯¾ç¨‹ (4èŠ‚)
            for (let i = 0; i < 4; i++) {
                html += '<tr>';
                html += `<td><strong>ç¬¬${i + 5}èŠ‚</strong></td>`;
                for (let day in scheduleData) {
                    if (scheduleData[day].isRest) {
                        if (i === 1) {
                            html += `<td class="rest-cell" rowspan="4">ğŸ˜´ ä¼‘æ¯</td>`;
                        } else if (i === 0 || i === 2 || i === 3) {
                            continue;
                        }
                    } else {
                        const course = scheduleData[day].afternoon[i];
                        const cellClass = course ? 'course-cell clickable-cell' : 'empty-cell clickable-cell';
                        const displayText = course || '-';
                        html += `<td class="${cellClass}" data-day="${day}" data-period="afternoon" data-index="${i}">${displayText}</td>`;
                    }
                }
                html += '</tr>';
            }

            html += '</tbody></table>';

            container.innerHTML = html;

            // æ·»åŠ å•å…ƒæ ¼ç‚¹å‡»äº‹ä»¶
            addCellClickListeners();
        }

        // å¼¹çª—ç›¸å…³å˜é‡
        let currentEditCell = null; // å½“å‰ç¼–è¾‘çš„å•å…ƒæ ¼ä¿¡æ¯

        // è¯¾ç¨‹åˆ—è¡¨
        const courseList = [
            'è¯­æ–‡', 'æ•°å­¦', 'è‹±è¯­', 'é“å¾·ä¸æ³•æ²»', 'å†å²', 'åœ°ç†',
            'ç‰©ç†', 'åŒ–å­¦', 'ç”Ÿç‰©', 'ä½“è‚²ä¸å¥åº·', 'éŸ³ä¹', 'ç¾æœ¯',
            'ä¿¡æ¯æŠ€æœ¯', 'åŠ³åŠ¨/ç»¼åˆå®è·µæ´»åŠ¨', 'è®¡ç®—æœº'
        ];

        // æ·»åŠ å•å…ƒæ ¼ç‚¹å‡»äº‹ä»¶
        function addCellClickListeners() {
            document.querySelectorAll('.clickable-cell').forEach(cell => {
                cell.addEventListener('click', () => {
                    const day = cell.dataset.day;
                    const period = cell.dataset.period;
                    const index = parseInt(cell.dataset.index);
                    openCourseModal(day, period, index);
                });
            });
        }

        // æ‰“å¼€è¯¾ç¨‹é€‰æ‹©å¼¹çª—
        function openCourseModal(day, period, index) {
            currentEditCell = { day, period, index };

            // æ›´æ–°å¼¹çª—æ ‡é¢˜ä¿¡æ¯
            const periodNum = period === 'morning' ? index + 1 : index + 5;
            document.getElementById('modalCellInfo').textContent = `${dayMap[day]} ç¬¬${periodNum}èŠ‚`;

            // ç”Ÿæˆè¯¾ç¨‹é€‰é¡¹
            const optionsContainer = document.getElementById('courseOptions');
            let optionsHTML = '';
            courseList.forEach(course => {
                optionsHTML += `<div class="course-option" data-course="${course}">${course}</div>`;
            });
            // æ·»åŠ ä¼‘æ¯é€‰é¡¹
            optionsHTML += `<div class="course-option rest-option" data-course="ğŸ˜´ ä¼‘æ¯">ğŸ˜´ ä¼‘æ¯</div>`;
            optionsContainer.innerHTML = optionsHTML;

            // æ·»åŠ è¯¾ç¨‹é€‰é¡¹ç‚¹å‡»äº‹ä»¶
            document.querySelectorAll('.course-option').forEach(option => {
                // å•å‡»ï¼šå¡«å……åˆ°è¾“å…¥æ¡†
                option.addEventListener('click', () => {
                    const course = option.dataset.course;
                    document.getElementById('customCourseInput').value = course;
                });
                // åŒå‡»ï¼šç›´æ¥é€‰ä¸­å¹¶ç¡®è®¤
                option.addEventListener('dblclick', () => {
                    const course = option.dataset.course;
                    document.getElementById('customCourseInput').value = course;
                    confirmCourseSelection();
                });
            });

            // è®¾ç½®å½“å‰å€¼åˆ°è¾“å…¥æ¡†
            const currentValue = scheduleData[day][period][index] || '';
            document.getElementById('customCourseInput').value = currentValue;

            // æ˜¾ç¤ºå¼¹çª—
            document.getElementById('courseModalOverlay').classList.add('active');

            // èšç„¦åˆ°è¾“å…¥æ¡†
            setTimeout(() => {
                document.getElementById('customCourseInput').focus();
            }, 100);
        }

        // å…³é—­è¯¾ç¨‹é€‰æ‹©å¼¹çª—
        function closeCourseModal() {
            document.getElementById('courseModalOverlay').classList.remove('active');
            currentEditCell = null;
        }

        // ç¡®è®¤è¯¾ç¨‹é€‰æ‹©
        function confirmCourseSelection() {
            if (!currentEditCell) return;

            const { day, period, index } = currentEditCell;
            const newCourse = document.getElementById('customCourseInput').value.trim();

            // æ›´æ–°æ•°æ®
            scheduleData[day][period][index] = newCourse;

            // ä¿å­˜åˆ°æœ¬åœ°å­˜å‚¨
            saveToLocalStorage();

            // é‡æ–°æ¸²æŸ“
            renderSchedule();

            // åŒæ­¥æ›´æ–°é…ç½®é¢æ¿çš„è¾“å…¥æ¡†ï¼ˆå¦‚æœå½“å‰ç¼–è¾‘çš„æ˜¯é€‰ä¸­çš„æ—¥æœŸï¼‰
            if (day === currentDay) {
                loadDayData(currentDay);
            }

            // å…³é—­å¼¹çª—
            closeCourseModal();

            // æ˜¾ç¤ºé€šçŸ¥
            showNotification('âœ… è¯¾ç¨‹å·²æ›´æ–°ï¼');
        }

        // æ¸…ç©ºå•å…ƒæ ¼
        function clearCellCourse() {
            if (!currentEditCell) return;

            const { day, period, index } = currentEditCell;

            // æ¸…ç©ºæ•°æ®
            scheduleData[day][period][index] = '';

            // ä¿å­˜åˆ°æœ¬åœ°å­˜å‚¨
            saveToLocalStorage();

            // é‡æ–°æ¸²æŸ“
            renderSchedule();

            // åŒæ­¥æ›´æ–°é…ç½®é¢æ¿
            if (day === currentDay) {
                loadDayData(currentDay);
            }

            // å…³é—­å¼¹çª—
            closeCourseModal();

            // æ˜¾ç¤ºé€šçŸ¥
            showNotification('ğŸ—‘ï¸ å·²æ¸…ç©ºè¯¥èŠ‚è¯¾ï¼');
        }

        // åˆå§‹åŒ–å¼¹çª—äº‹ä»¶
        function initModalEvents() {
            // ç¡®è®¤æŒ‰é’®
            document.getElementById('confirmCourseBtn').addEventListener('click', confirmCourseSelection);

            // æ¸…ç©ºæŒ‰é’®
            document.getElementById('clearCellBtn').addEventListener('click', clearCellCourse);

            // å–æ¶ˆæŒ‰é’®
            document.getElementById('cancelCourseBtn').addEventListener('click', closeCourseModal);

            // ç‚¹å‡»é®ç½©å±‚å…³é—­
            document.getElementById('courseModalOverlay').addEventListener('click', (e) => {
                if (e.target.id === 'courseModalOverlay') {
                    closeCourseModal();
                }
            });

            // å›è½¦ç¡®è®¤
            document.getElementById('customCourseInput').addEventListener('keydown', (e) => {
                if (e.key === 'Enter') {
                    confirmCourseSelection();
                } else if (e.key === 'Escape') {
                    closeCourseModal();
                }
            });
        }

        // æ‰“å°è¯¾ç¨‹è¡¨
        function printSchedule() {
            // å¤åˆ¶è¯¾ç¨‹è¡¨åˆ°æ‰“å°åŒºåŸŸ
            const scheduleHTML = document.getElementById('schedulePreview').innerHTML;
            document.getElementById('printSchedule').innerHTML = scheduleHTML;

            // è®¾ç½®æ¿€åŠ±è¯­
            const motivation = motivationText || 'å­¦ä¹ å¾ˆè‹¦,åšæŒå¾ˆé…·';
            document.getElementById('printMotivation').textContent = `âœ¨ ${motivation} ğŸ’–`;

            // è§¦å‘æ‰“å°
            window.print();
        }

        // ä¿å­˜åˆ°æœ¬åœ°å­˜å‚¨
        function saveToLocalStorage() {
            const dataToSave = {
                scheduleData: scheduleData,
                motivationText: motivationText
            };
            localStorage.setItem('scheduleData_mengzhongqi', JSON.stringify(dataToSave));
        }

        // ä»æœ¬åœ°å­˜å‚¨åŠ è½½
        function loadFromLocalStorage() {
            const saved = localStorage.getItem('scheduleData_mengzhongqi');
            if (saved) {
                try {
                    const parsed = JSON.parse(saved);
                    // å…¼å®¹æ—§ç‰ˆæœ¬æ•°æ®
                    if (parsed.scheduleData) {
                        Object.assign(scheduleData, parsed.scheduleData);
                        motivationText = parsed.motivationText || 'å­¦ä¹ å¾ˆè‹¦,åšæŒå¾ˆé…·';
                    } else {
                        // æ—§ç‰ˆæœ¬æ•°æ®æ ¼å¼
                        Object.assign(scheduleData, parsed);
                    }
                    // åŠ è½½æ¿€åŠ±è¯­åˆ°è¾“å…¥æ¡†
                    document.getElementById('motivationText').value = motivationText;
                } catch (e) {
                    console.error('åŠ è½½æ•°æ®å¤±è´¥:', e);
                }
            }
        }

        // æ˜¾ç¤ºé€šçŸ¥
        function showNotification(message) {
            const notification = document.createElement('div');
            notification.textContent = message;
            notification.style.cssText = `
                position: fixed;
                top: 20px;
                right: 20px;
                background: linear-gradient(135deg, #FF69B4 0%, #C4A7E7 100%);
                color: white;
                padding: 1rem 1.5rem;
                border-radius: 20px;
                box-shadow: 0 5px 20px rgba(255, 105, 180, 0.4);
                z-index: 10000;
                font-weight: 700;
                animation: slideInRight 0.3s ease;
                border: 2px solid white;
            `;

            document.body.appendChild(notification);

            setTimeout(() => {
                notification.style.animation = 'slideOutRight 0.3s ease';
                setTimeout(() => {
                    document.body.removeChild(notification);
                }, 300);
            }, 3000);
        }
    </script>
</body>

</html>